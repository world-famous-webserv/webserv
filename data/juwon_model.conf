http {
    root www;
    client_max_body_size 50m;
    autoindex off;
    server {
        listen 	8080;
        server_name localhost;
        error_page 443 PWD/www/error_page;
        autoindex on;
        location / {
            root 		PWD/www/html;
            index       index.html;
            limit_except GET {
                allow all;
            }
        }
        location /get_test {
            root 		PWD/www/html;
            index       get_test.html;
            limit_except GET {
                allow all;
            }
        }
        location /post_test {
            root 		PWD/www/html;
            index       post_test.html;
            limit_except POST {
                allow all;
            }
            cgi_ext /Library/Frameworks/Python.framework/Versions/3.11/bin/python3;
            cgi_pass www/cgi-bin/post_test.py;
        }
        location /put_test {
            root 		PWD/www/html;
            index       put_test.html;
            limit_except PUT {
                allow all;
            }
        }
        location /delete_test {
            root 		PWD/www/html;
            index       delete_test.html;
            limit_except DELETE {
                allow all;
            }
        }
        location /file_upload/ {
            root 		PWD/www/html/;
            index       file_upload.html;
            limit_except POST {
                allow all;
            }
            cgi_ext /Library/Frameworks/Python.framework/Versions/3.11/bin/python3;
            cgi_pass www/cgi-bin/file_upload.py;
        }
    }
}